"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.endRequestVoting = void 0;
const sui_js_1 = require("@mysten/sui.js");
const helpers_1 = require("./helpers");
async function endRequestVoting({ voteRequest, packageId, signerPhrase, adminCapId, }) {
    const { signer } = (0, helpers_1.getSigner)(signerPhrase);
    const tx = new sui_js_1.TransactionBlock();
    tx.moveCall({
        target: `${packageId}::dao::end_request_voting`,
        arguments: [tx.object(adminCapId), tx.object(voteRequest)],
    });
    const txRes = await signer.signAndExecuteTransactionBlock({
        transactionBlock: tx,
        requestType: "WaitForLocalExecution",
        options: {
            showEffects: true,
        },
    });
    (0, helpers_1.handleTransactionResponse)(txRes);
    return (0, sui_js_1.getExecutionStatus)(txRes);
}
exports.endRequestVoting = endRequestVoting;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5kX3JlcXVlc3Rfdm90aW5nLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vc3JjL2VuZF9yZXF1ZXN0X3ZvdGluZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7QUFBQSwyQ0FBc0U7QUFFdEUsdUNBQWlFO0FBRzFELEtBQUssVUFBVSxnQkFBZ0IsQ0FBQyxFQUNyQyxXQUFXLEVBQ1gsU0FBUyxFQUNULFlBQVksRUFDWixVQUFVLEdBQ1c7SUFDckIsTUFBTSxFQUFFLE1BQU0sRUFBRSxHQUFHLElBQUEsbUJBQVMsRUFBQyxZQUFZLENBQUMsQ0FBQztJQUMzQyxNQUFNLEVBQUUsR0FBRyxJQUFJLHlCQUFnQixFQUFFLENBQUM7SUFFbEMsRUFBRSxDQUFDLFFBQVEsQ0FBQztRQUNWLE1BQU0sRUFBRSxHQUFHLFNBQVMsMkJBQTJCO1FBQy9DLFNBQVMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEVBQUUsRUFBRSxDQUFDLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQztLQUMzRCxDQUFDLENBQUM7SUFFSCxNQUFNLEtBQUssR0FBRyxNQUFNLE1BQU0sQ0FBQyw4QkFBOEIsQ0FBQztRQUN4RCxnQkFBZ0IsRUFBRSxFQUFFO1FBQ3BCLFdBQVcsRUFBRSx1QkFBdUI7UUFDcEMsT0FBTyxFQUFFO1lBQ1AsV0FBVyxFQUFFLElBQUk7U0FDbEI7S0FDRixDQUFDLENBQUM7SUFDSCxJQUFBLG1DQUF5QixFQUFDLEtBQUssQ0FBQyxDQUFDO0lBRWpDLE9BQU8sSUFBQSwyQkFBa0IsRUFBQyxLQUFLLENBQUMsQ0FBQztBQUNuQyxDQUFDO0FBeEJELDRDQXdCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGdldEV4ZWN1dGlvblN0YXR1cywgVHJhbnNhY3Rpb25CbG9jayB9IGZyb20gXCJAbXlzdGVuL3N1aS5qc1wiO1xuXG5pbXBvcnQgeyBnZXRTaWduZXIsIGhhbmRsZVRyYW5zYWN0aW9uUmVzcG9uc2UgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBFbmRWb3RlUmVxdWVzdFBhcmFtcyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbmRSZXF1ZXN0Vm90aW5nKHtcbiAgdm90ZVJlcXVlc3QsXG4gIHBhY2thZ2VJZCxcbiAgc2lnbmVyUGhyYXNlLFxuICBhZG1pbkNhcElkLFxufTogRW5kVm90ZVJlcXVlc3RQYXJhbXMpIHtcbiAgY29uc3QgeyBzaWduZXIgfSA9IGdldFNpZ25lcihzaWduZXJQaHJhc2UpO1xuICBjb25zdCB0eCA9IG5ldyBUcmFuc2FjdGlvbkJsb2NrKCk7XG5cbiAgdHgubW92ZUNhbGwoe1xuICAgIHRhcmdldDogYCR7cGFja2FnZUlkfTo6ZGFvOjplbmRfcmVxdWVzdF92b3RpbmdgLFxuICAgIGFyZ3VtZW50czogW3R4Lm9iamVjdChhZG1pbkNhcElkKSwgdHgub2JqZWN0KHZvdGVSZXF1ZXN0KV0sXG4gIH0pO1xuXG4gIGNvbnN0IHR4UmVzID0gYXdhaXQgc2lnbmVyLnNpZ25BbmRFeGVjdXRlVHJhbnNhY3Rpb25CbG9jayh7XG4gICAgdHJhbnNhY3Rpb25CbG9jazogdHgsXG4gICAgcmVxdWVzdFR5cGU6IFwiV2FpdEZvckxvY2FsRXhlY3V0aW9uXCIsXG4gICAgb3B0aW9uczoge1xuICAgICAgc2hvd0VmZmVjdHM6IHRydWUsXG4gICAgfSxcbiAgfSk7XG4gIGhhbmRsZVRyYW5zYWN0aW9uUmVzcG9uc2UodHhSZXMpO1xuXG4gIHJldHVybiBnZXRFeGVjdXRpb25TdGF0dXModHhSZXMpO1xufVxuIl19