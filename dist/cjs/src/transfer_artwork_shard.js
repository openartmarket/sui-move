"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.transferArtworkShard = void 0;
const sui_js_1 = require("@mysten/sui.js");
const helpers_1 = require("./helpers");
/**
 * Mints an artwork shard
 * @returns artwork shard id
 */
async function transferArtworkShard(params) {
    const { artworkId, signerPhrase, receiverAddress, artworkShardId, packageId } = params;
    const { signer } = (0, helpers_1.getSigner)(signerPhrase);
    const tx = new sui_js_1.TransactionBlock();
    tx.moveCall({
        target: `${packageId}::open_art_market::transfer_artwork_shard`,
        arguments: [tx.object(artworkId), tx.pure(artworkShardId), tx.pure(receiverAddress)],
    });
    const txRes = await signer.signAndExecuteTransactionBlock({
        transactionBlock: tx,
        requestType: "WaitForLocalExecution",
        options: {
            showObjectChanges: true,
            showEffects: true,
        },
    });
    (0, helpers_1.handleTransactionResponse)(txRes);
    const { digest } = txRes;
    return { artworkShardId, digest, owner: receiverAddress };
}
exports.transferArtworkShard = transferArtworkShard;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidHJhbnNmZXJfYXJ0d29ya19zaGFyZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy90cmFuc2Zlcl9hcnR3b3JrX3NoYXJkLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUFrRDtBQUVsRCx1Q0FBaUU7QUFHakU7OztHQUdHO0FBQ0ksS0FBSyxVQUFVLG9CQUFvQixDQUN4QyxNQUFrQztJQUVsQyxNQUFNLEVBQUUsU0FBUyxFQUFFLFlBQVksRUFBRSxlQUFlLEVBQUUsY0FBYyxFQUFFLFNBQVMsRUFBRSxHQUFHLE1BQU0sQ0FBQztJQUN2RixNQUFNLEVBQUUsTUFBTSxFQUFFLEdBQUcsSUFBQSxtQkFBUyxFQUFDLFlBQVksQ0FBQyxDQUFDO0lBRTNDLE1BQU0sRUFBRSxHQUFHLElBQUkseUJBQWdCLEVBQUUsQ0FBQztJQUVsQyxFQUFFLENBQUMsUUFBUSxDQUFDO1FBQ1YsTUFBTSxFQUFFLEdBQUcsU0FBUywyQ0FBMkM7UUFDL0QsU0FBUyxFQUFFLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFFLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7S0FDckYsQ0FBQyxDQUFDO0lBRUgsTUFBTSxLQUFLLEdBQUcsTUFBTSxNQUFNLENBQUMsOEJBQThCLENBQUM7UUFDeEQsZ0JBQWdCLEVBQUUsRUFBRTtRQUNwQixXQUFXLEVBQUUsdUJBQXVCO1FBQ3BDLE9BQU8sRUFBRTtZQUNQLGlCQUFpQixFQUFFLElBQUk7WUFDdkIsV0FBVyxFQUFFLElBQUk7U0FDbEI7S0FDRixDQUFDLENBQUM7SUFFSCxJQUFBLG1DQUF5QixFQUFDLEtBQUssQ0FBQyxDQUFDO0lBQ2pDLE1BQU0sRUFBRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUM7SUFDekIsT0FBTyxFQUFFLGNBQWMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLGVBQWUsRUFBRSxDQUFDO0FBQzVELENBQUM7QUF6QkQsb0RBeUJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVHJhbnNhY3Rpb25CbG9jayB9IGZyb20gXCJAbXlzdGVuL3N1aS5qc1wiO1xuXG5pbXBvcnQgeyBnZXRTaWduZXIsIGhhbmRsZVRyYW5zYWN0aW9uUmVzcG9uc2UgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XG5pbXBvcnQgeyBUcmFuc2ZlckFydHdvcmtTaGFyZFBhcmFtcywgVHJhbnNmZXJBcnR3b3JrU2hhcmRSZXN1bHQgfSBmcm9tIFwiLi90eXBlc1wiO1xuXG4vKipcbiAqIE1pbnRzIGFuIGFydHdvcmsgc2hhcmRcbiAqIEByZXR1cm5zIGFydHdvcmsgc2hhcmQgaWRcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRyYW5zZmVyQXJ0d29ya1NoYXJkKFxuICBwYXJhbXM6IFRyYW5zZmVyQXJ0d29ya1NoYXJkUGFyYW1zXG4pOiBQcm9taXNlPFRyYW5zZmVyQXJ0d29ya1NoYXJkUmVzdWx0PiB7XG4gIGNvbnN0IHsgYXJ0d29ya0lkLCBzaWduZXJQaHJhc2UsIHJlY2VpdmVyQWRkcmVzcywgYXJ0d29ya1NoYXJkSWQsIHBhY2thZ2VJZCB9ID0gcGFyYW1zO1xuICBjb25zdCB7IHNpZ25lciB9ID0gZ2V0U2lnbmVyKHNpZ25lclBocmFzZSk7XG5cbiAgY29uc3QgdHggPSBuZXcgVHJhbnNhY3Rpb25CbG9jaygpO1xuXG4gIHR4Lm1vdmVDYWxsKHtcbiAgICB0YXJnZXQ6IGAke3BhY2thZ2VJZH06Om9wZW5fYXJ0X21hcmtldDo6dHJhbnNmZXJfYXJ0d29ya19zaGFyZGAsXG4gICAgYXJndW1lbnRzOiBbdHgub2JqZWN0KGFydHdvcmtJZCksIHR4LnB1cmUoYXJ0d29ya1NoYXJkSWQpLCB0eC5wdXJlKHJlY2VpdmVyQWRkcmVzcyldLFxuICB9KTtcblxuICBjb25zdCB0eFJlcyA9IGF3YWl0IHNpZ25lci5zaWduQW5kRXhlY3V0ZVRyYW5zYWN0aW9uQmxvY2soe1xuICAgIHRyYW5zYWN0aW9uQmxvY2s6IHR4LFxuICAgIHJlcXVlc3RUeXBlOiBcIldhaXRGb3JMb2NhbEV4ZWN1dGlvblwiLFxuICAgIG9wdGlvbnM6IHtcbiAgICAgIHNob3dPYmplY3RDaGFuZ2VzOiB0cnVlLFxuICAgICAgc2hvd0VmZmVjdHM6IHRydWUsXG4gICAgfSxcbiAgfSk7XG5cbiAgaGFuZGxlVHJhbnNhY3Rpb25SZXNwb25zZSh0eFJlcyk7XG4gIGNvbnN0IHsgZGlnZXN0IH0gPSB0eFJlcztcbiAgcmV0dXJuIHsgYXJ0d29ya1NoYXJkSWQsIGRpZ2VzdCwgb3duZXI6IHJlY2VpdmVyQWRkcmVzcyB9O1xufVxuIl19