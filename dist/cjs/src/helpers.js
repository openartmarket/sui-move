"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getSigner = exports.provider = void 0;
const sui_js_1 = require("@mysten/sui.js");
const config_1 = require("./config");
// console.log("Connecting to ", SUI_NETWORK);
const connOptions = new sui_js_1.Connection({
    fullnode: config_1.SUI_NETWORK,
});
exports.provider = new sui_js_1.JsonRpcProvider(connOptions);
function getSigner(phrase) {
    if (!phrase)
        throw new Error("No phrase provided");
    const keypair = sui_js_1.Ed25519Keypair.deriveKeypair(phrase);
    const signer = new sui_js_1.RawSigner(keypair, exports.provider);
    const address = keypair.getPublicKey().toSuiAddress();
    // console.log("Address = " + address);
    return { signer, address };
}
exports.getSigner = getSigner;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9oZWxwZXJzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7OztBQUFBLDJDQUF3RjtBQUV4RixxQ0FBdUM7QUFFdkMsOENBQThDO0FBQzlDLE1BQU0sV0FBVyxHQUFHLElBQUksbUJBQVUsQ0FBQztJQUNqQyxRQUFRLEVBQUUsb0JBQVc7Q0FDdEIsQ0FBQyxDQUFDO0FBQ1UsUUFBQSxRQUFRLEdBQUcsSUFBSSx3QkFBZSxDQUFDLFdBQVcsQ0FBQyxDQUFDO0FBRXpELFNBQWdCLFNBQVMsQ0FBQyxNQUFjO0lBSXRDLElBQUksQ0FBQyxNQUFNO1FBQUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0lBRW5ELE1BQU0sT0FBTyxHQUFHLHVCQUFjLENBQUMsYUFBYSxDQUFDLE1BQU0sQ0FBQyxDQUFDO0lBQ3JELE1BQU0sTUFBTSxHQUFHLElBQUksa0JBQVMsQ0FBQyxPQUFPLEVBQUUsZ0JBQVEsQ0FBQyxDQUFDO0lBRWhELE1BQU0sT0FBTyxHQUFHLE9BQU8sQ0FBQyxZQUFZLEVBQUUsQ0FBQyxZQUFZLEVBQUUsQ0FBQztJQUN0RCx1Q0FBdUM7SUFFdkMsT0FBTyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsQ0FBQztBQUM3QixDQUFDO0FBYkQsOEJBYUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb25uZWN0aW9uLCBFZDI1NTE5S2V5cGFpciwgSnNvblJwY1Byb3ZpZGVyLCBSYXdTaWduZXIgfSBmcm9tIFwiQG15c3Rlbi9zdWkuanNcIjtcblxuaW1wb3J0IHsgU1VJX05FVFdPUksgfSBmcm9tIFwiLi9jb25maWdcIjtcblxuLy8gY29uc29sZS5sb2coXCJDb25uZWN0aW5nIHRvIFwiLCBTVUlfTkVUV09SSyk7XG5jb25zdCBjb25uT3B0aW9ucyA9IG5ldyBDb25uZWN0aW9uKHtcbiAgZnVsbG5vZGU6IFNVSV9ORVRXT1JLLFxufSk7XG5leHBvcnQgY29uc3QgcHJvdmlkZXIgPSBuZXcgSnNvblJwY1Byb3ZpZGVyKGNvbm5PcHRpb25zKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFNpZ25lcihwaHJhc2U6IHN0cmluZyk6IHtcbiAgc2lnbmVyOiBSYXdTaWduZXI7XG4gIGFkZHJlc3M6IHN0cmluZztcbn0ge1xuICBpZiAoIXBocmFzZSkgdGhyb3cgbmV3IEVycm9yKFwiTm8gcGhyYXNlIHByb3ZpZGVkXCIpO1xuXG4gIGNvbnN0IGtleXBhaXIgPSBFZDI1NTE5S2V5cGFpci5kZXJpdmVLZXlwYWlyKHBocmFzZSk7XG4gIGNvbnN0IHNpZ25lciA9IG5ldyBSYXdTaWduZXIoa2V5cGFpciwgcHJvdmlkZXIpO1xuXG4gIGNvbnN0IGFkZHJlc3MgPSBrZXlwYWlyLmdldFB1YmxpY0tleSgpLnRvU3VpQWRkcmVzcygpO1xuICAvLyBjb25zb2xlLmxvZyhcIkFkZHJlc3MgPSBcIiArIGFkZHJlc3MpO1xuXG4gIHJldHVybiB7IHNpZ25lciwgYWRkcmVzcyB9O1xufVxuIl19